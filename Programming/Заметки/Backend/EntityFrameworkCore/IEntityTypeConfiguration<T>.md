## **–ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ**

IEntityTypeConfiguration ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–∑ [[Entity Framework Core]], –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å—É—â–Ω–æ—Å—Ç–∏ T —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Fluent API. –ï–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–Ω–µ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—É—â–Ω–æ—Å—Ç–∏ (—Å–≤–æ–π—Å—Ç–≤, –∫–ª—é—á–µ–π, —Å–≤—è–∑–µ–π –∏ —Ç.–¥.) –∏–∑ DbContext –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, —É–ª—É—á—à–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞.

---

## **–ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–µ –∑–∞—Ö–ª–∞–º–ª—è–µ—Ç DbContext.
    
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: —É–¥–æ–±–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å—É—â–Ω–æ—Å—Ç–µ–π.
    
- **–Ø–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è –∫–æ–¥–æ–º, –±–µ–∑ –∞—Ç—Ä–∏–±—É—Ç–æ–≤.
    

---

## **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

  

### **1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

```
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Metadata.Builders;

public class ProductConfiguration : IEntityTypeConfiguration<Product>
{
    public void Configure(EntityTypeBuilder<Product> builder)
    {
        builder.HasKey(p => p.Id);

        builder.Property(p => p.Name)
               .IsRequired()
               .HasMaxLength(100);

        builder.HasIndex(p => p.Name);
    }
}
```

### **2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤¬†DbContext:**

```
protected override void OnModelCreating(ModelBuilder modelBuilder)
{
    modelBuilder.ApplyConfigurationsFromAssembly(typeof(ApplicationDbContext).Assembly);
}
```

> ‚úÖ ApplyConfigurationsFromAssembly –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –∫–ª–∞—Å—Å—ã, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ IEntityTypeConfiguration.

---

## **–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏ —Å–∏—Ç—É–∞—Ü–∏–∏**


### **üîπ –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á:**

```
builder.HasKey(p => p.Id);
```

### **üîπ –°–≤–æ–π—Å—Ç–≤–∞:**

```
builder.Property(p => p.Name)
       .IsRequired()
       .HasMaxLength(100);
```

### **üîπ –ò–Ω–¥–µ–∫—Å—ã:**

```
builder.HasIndex(p => p.CategoryId);
```

> üìå –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–ª—è—Ç—å HasIndex –¥–ª—è –≤—Å–µ—Ö —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π.

  

### **üîπ –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–æ–º:**

```
builder.HasOne(p => p.Category)
       .WithMany(c => c.Products)
       .HasForeignKey(p => p.CategoryId)
       .OnDelete(DeleteBehavior.Cascade);
```

### **üîπ –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –±–µ–∑ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞:**

```
builder.HasOne<Category>()
       .WithMany()
       .HasForeignKey(p => p.CategoryId);
```

### **üîπ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å:**

```
builder.HasIndex(p => p.Slug).IsUnique();
```

### **üîπ Enum:**

```
builder.Property(p => p.Status)
       .HasConversion<string>();
```

### **üîπ –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**

```
builder.Property(p => p.CreatedAt)
       .HasDefaultValueSql("CURRENT_TIMESTAMP");
```

---

## **–°–æ–≤–µ—Ç—ã**

- –†–∞–∑–¥–µ–ª—è–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ –∫–ª–∞—Å—Å–∞–º ‚Äî –æ–¥–∏–Ω —Ñ–∞–π–ª –Ω–∞ –æ–¥–Ω—É —Å—É—â–Ω–æ—Å—Ç—å.
    
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π DataAnnotations, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å Fluent API ‚Äî –Ω–µ —Å–º–µ—à–∏–≤–∞–π —Å—Ç–∏–ª–∏.
    
- –ò—Å–ø–æ–ª—å–∑—É–π ApplyConfigurationsFromAssembly ‚Äî —ç—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç —Ä—É—á–Ω—É—é —Ä–∞–±–æ—Ç—É.
    
- –ù–µ –∑–∞–±—ã–≤–∞–π –ø—Ä–æ HasIndex –Ω–∞ FK/—á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –ø–æ–ª—è—Ö.
    

---

## **–í—ã–≤–æ–¥**

  

IEntityTypeConfiguration ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —á–∏—Å—Ç–æ–π, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –∏ –Ω–∞–≥–ª—è–¥–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π –≤ EF Core. –ò—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ —Å —É–º–æ–º, –∏ —Ç–≤–æ–π DbContext –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º.