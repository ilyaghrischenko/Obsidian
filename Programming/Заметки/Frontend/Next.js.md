## Что такое Next.js?

Next.js — это React-фреймворк с фокусом на серверный рендеринг (SSR), генерацию статических сайтов (SSG), маршрутизацию и оптимизацию производительности.

---

## Ключевые особенности Next.js

- **Серверные и клиентские компоненты**  
  - Серверные компоненты (по умолчанию) рендерятся на сервере. Идеальны для статичного или динамического (с async/await) рендеринга.  
  - Клиентские компоненты нужны для интерактивности (состояния, эффекты, DOM-события). Обозначаются директивой `'use client'`.

- **Файловая маршрутизация (File-based Routing)**  
  - Папка `app/` или `pages/` автоматически становится набором роутов. Имя папки — URL-путь.

- **Асинхронные серверные компоненты**  
  - Поддержка `async/await` прямо в компонентах для загрузки данных на сервере.

- **Оптимизация производительности**  
  - Автоматическое разделение кода, ленивые загрузки, кэширование и статическая генерация с возможностью ISR (Incremental Static Regeneration).

- **API Routes**  
  - Возможность создавать backend-эндпоинты в том же проекте (`pages/api`), что удобно для создания API без отдельного сервера.

- **Интеграция с React 18+**  
  - Полная поддержка новых возможностей React, включая серверные компоненты.

---

## Серверные vs Клиентские компоненты в Next.js

| Критерий              | Серверный компонент                         | Клиентский компонент                      |
|-----------------------|--------------------------------------------|------------------------------------------|
| Рендеринг             | На сервере                                | В браузере                              |
| Использование хуков   | Можно использовать только асинхронные данные (fetch) | `useState`, `useEffect`, DOM-события и прочее |
| Директива             | Нет необходимости                        | `'use client'` обязательно              |
| Применение            | Для отображения статичных данных или данных с сервера | Для интерактивных UI-элементов, форм, анимаций |

---

## Когда использовать Next.js, а когда [[React (TypeScript)]]

| Ситуация                         | Использовать Next.js                      | Использовать React                       |
|---------------------------------|------------------------------------------|-----------------------------------------|
| Необходим SSR или SSG            | Да — нужен серверный рендеринг или статическая генерация | Нет — проект SPA или интерактивный UI без SEO |
| SEO и быстрая индексация         | Да — Next.js генерирует страницы на сервере | Нет — React генерирует все на клиенте, SEO хуже |
| Быстрый первый рендер           | Да — сервер отдает готовую страницу    | Нет — долго грузится JS и рендерится в браузере |
| Простая маршрутизация            | Да — файловая система обеспечивает роутинг | Нет — надо вручную подключать react-router |
| Маленький SPA или библиотека     | React — легче и быстрее стартовать      | Next.js — избыточен для простых компонентов |
| Требуется backend API            | Next.js позволяет встроить API в проект | React — нужен отдельный backend        |

---

## Кратко о Next.js

- **Простота разработки:** автоматическая маршрутизация, серверный рендеринг и статическая генерация.  
- **SEO и производительность:** страницы рендерятся на сервере или заранее генерируются.  
- **Гибкость:** можно писать как серверные, так и клиентские компоненты в одном проекте.  
- **Лучше подходит:** для больших приложений с SEO, быстрым рендерингом и интеграцией с backend.  
- **React лучше:** для маленьких SPA, где нужен только клиентский рендеринг и нет SEO требований.

---

## Итог

Next.js — это расширение React с упором на серверный рендеринг и оптимизацию. Для проектов, где важна SEO, быстрая загрузка и маршрутизация без настройки, Next.js — лучший выбор. React — отличный вариант для чисто клиентских приложений и компонентов, где нужен полный контроль над рендерингом.

---

## Дополнительные ресурсы

- [Документация Next.js](https://nextjs.org/docs)  
- [React Documentation](https://reactjs.org/docs/getting-started.html)  
- [Next.js vs React — статья](https://blog.logrocket.com/next-js-vs-react/)
